<!DOCTYPE html>
<html>
<head>
	<style>

html, body, canvas, div {
	margin: 0; padding: 0;
	width: 100%; height: 100%;
}

	</style>
</head>
<body>
	<!-- <canvas id="display"></canvas> -->
	<script>

		var config = {
			perCycle : 2000
		};

		var body = document.getElementsByTagName('body')[0];
		// var canvas = document.getElementById('display');
		var canvas = document.createElement('canvas');
		canvas.id = 'display';
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
		body.appendChild(canvas);

		var context = canvas.getContext('2d');
		var width = canvas.width;
		var height = canvas.height;

		/*
		function color(r,g,b,a) {
			this.r = r || 0;
			this.g = g || 0;
			this.b = b || 0;
			this.a = a || 1;

			return {
				interval : function() {
					this.r = (this.r + 1) % 256;
					this.g = (this.g + 1.1) % 256;
					this.b = (this.b + 1.2) % 256;
				},
				getCSS : function() {
					return 'rgba(' + this.r + ',' + this.g + ',' + this.b + ',' + this.a + ')';
				}
			}
		}
		*/

		// var drawColor = new color(0,0,0,1);

		function randHex(length) {
			length = length || 6;
			var str = "";
			var arr = "0123456789abcdef";
			while(str.length < length) {
				str += arr[Math.floor(Math.random() * arr.length)];
			}
			return "#" + str;
		}

		function rand(a, b){
			var min = Math.min(a,b);
			var max = Math.max(a,b);
			var top = max - min;
			return Math.random() * top + min;
		}

		function inBoundsX(x) {
			return x > width  ? width : x < 0 ? 0 : x;
		}

		function inBoundsY(y) {
			return y > height ? height : y < 0 ? 0 : y;
		}

		var lastX = width / 2;
		var lastY = height / 2;

		context.moveTo(lastX, lastY);

		function interval() {

			context.beginPath();
			context.strokeStyle = randHex(6);

			for(var i = 0; i < config.perCycle; i++) {

				var x = rand(inBoundsX(lastX - 2), inBoundsX(lastX + 2));
				var y = rand(inBoundsY(lastY - 2), inBoundsY(lastY + 2));

				context.lineTo(x, y);

				lastX = x;
				lastY = y;
				// drawColor.interval();
				// context.strokeStyle = drawColor.getCSS();
				context.stroke();
			}
			context.closePath();
			requestAnimationFrame(interval);
		}

		requestAnimationFrame(interval);

	</script>
</body>
</html>
